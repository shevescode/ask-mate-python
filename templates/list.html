{% extends "base.html" %}
{% block title%}AskMate{% endblock %}
{% block content %}
    <h1>AskMate</h1>
    <h2><a href="{{ url_for('route_ask_question') }}">Add new question</a></h2><br>

    <form action="/list">
        <table>
            <thead>
                <tr>
                    <th style="width: 150px">Order By</th>
                    <th style="width: 150px">Order Direction</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align: center">
                        <select id="order-by" name="order_by">
                            {% for key in order_by_labels %}
                                {% if key == current_order_by %}
                                    <option selected label="{{ order_by_labels[key] }}">{{ key }}</option>
                                {% else %}
                                    <option label="{{ order_by_labels[key] }}">{{ key }}</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                    </td>
                    <td style="text-align: center">
                        <select id="order-direction" name="order_direction">
                            {% for key in order_dir_labels %}
                                {% if key == current_order_dir %}
                                    <option selected label="{{ order_dir_labels[key] }}">{{ key }}</option>
                                {% else %}
                                    <option label="{{ order_dir_labels[key] }}">{{ key }}</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                    </td>
                    <td>
                        <button type="submit">Apply</button>
                    </td>
                </tr>
            </tbody>
        </table>
    <br><br>
    </form>
    <table>
        <thead>
        <tr>
            <th>Id</th>
            <th style="width:100px; text-align:center">Posted</th>
            <th style="width:80px; text-align:center">Viewed</th>
            <th style="width:80px; text-align:center">Votes</th>
            <th style="width:150px; text-align:center">Question Title</th>
            <th style="width:400px; text-align:center">Question Description</th>
            <th style="width:150px; text-align:center">Image</th>
        </tr>
        <tr><td style="height:10px"></td></tr>
        </thead>
        {% for question in questions %}
            <tr>
            {% block loop_item scoped %}
                {% for header in headers %}
                    {% if header == 'title' %}
                        <td style="text-align:center"><a href="/question/{{question[headers[0]]}}">{{ question[header] }}</a></td>
                    {% else %}
                        <td style="text-align:center">{{ question[header] }}</td>
                    {%  endif %}
                {% endfor %}
            {% endblock loop_item %}
            </tr>
            <tr><td style="height:10px"></td></tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock content %}
